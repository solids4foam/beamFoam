include $(RULES)/mplib$(WM_MPLIB)

ifeq (Gcc,$(findstring Gcc,$(WM_COMPILER)))
    DISABLE_WARNING_FLAGS = -Wno-old-style-cast -Wno-return-type
else
    DISABLE_WARNING_FLAGS =
endif

PETSC_INC_DIR="$(FVMBEAM_DIR)/ThirdParty/petsc/build/include"
PETSC_LIB_DIR="$(FVMBEAM_DIR)/ThirdParty/petsc/build/lib"

EXE_INC = $(PFLAGS) $(PINC) \
    $(DISABLE_WARNING_FLAGS) \
    -std=c++11 \
    -I../../wireBunchingModels/lnInclude \
    -I../../petsc4Foam/lnInclude \
    -I/usr/lib/x86_64-linux-gnu/openmpi/include \
    -I$(LIB_SRC)/finiteVolume/lnInclude  \
    -I$(LIB_SRC)/meshTools/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/dynamicMesh/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/dynamicFvMesh/lnInclude \
    -I$(LIB_SRC)/dynamicMesh/topoChangerFvMesh/lnInclude \
    -I$(LIB_SRC)/Pstream/mpi \
    $(foreach dir,$(PETSC_INC_DIR),-I$(dir))

LIB_LIBS = $(PLIBS) \
    -lfiniteVolume \
    -lmeshTools \
    -ldynamicFvMesh \
    -ldynamicMesh \
    -ltopoChangerFvMesh \
    -L$(FOAM_USER_LIBBIN) \
    -lpetscFoam \
    $(foreach dir,$(PETSC_LIB_DIR),-L$(dir)) \
    -lpetsc

$(OBJECTS_DIR)/global.o: FORCE

FORCE:
